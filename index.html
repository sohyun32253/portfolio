<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Paytone+One&display=swap" rel="stylesheet">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&family=Jua&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./index.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <title>About Me</title>
</head>
<body>
    <div class="wrap">
        <div class="container">
            <div class="mypage_wrap">
                <img src="images/cover_bg_01.png" class="bg_01">
                <img src="images/cover_bg_02.png" class="bg_02">
                <div class="mypage_cover">
                    <div class="mypage_cont">
                        <div class="h1_wrap">
                            <h1 class="opacity_10 slide_down">About Me</h1>
                            <h1 class="opacity_30 slide_down">About Me</h1>
                            <h1 class="opacity_50 slide_down">About Me</h1>
                            <h1 class="opacity_70 slide_down">About Me</h1>
                            <h1 class="opacity_100 slide_down">About Me</h1>
                        </div>

                        <div class="p_wrap">
                            <p class="name">PARK SOHYUN</p>
                            <p class="year">2024</p>
                        </div>
                    </div>
             </div>
        </div>


        <div class="pager">
            <button data-target=".profile_cont">
            </button>

            <button data-target=".portfolio_cont">
            </button>

            <button data-target=".address_cont">
            </button>
        </div>

        

        <div class="gnb">
            <ul>
                <li class="gnb_01">PROFILE</li>
                <li class="gnb_02">PORTFOLIO</li>
                <li class="gnb_03">ADDRESS</li>
            </ul>
        </div>
        

        <div class="container">
            <div class="profile_cont">
                <div class="profile_left">
                    <div class="profile">
                        <div class="profile_01">
                        <img src="images/profile_flower.png">
                        </div>

                        <div class="profile_02">
                        <h2>PROFILE</h2>
                        <p class="ko_name">박소현</p>
                        <p>2001.03.22</p>
                        <p class="mbti">INTJ-A</p>
                        <p><img src="./images/phone.png"> 010-3354-6096</p>
                        <p><img src="./images/email.png"> sohyun32253@naver.com</p>
                        </div>
                    </div>
                    <div class="character">
                        <h2>나를 표현한다면?</h2>
                        <span>성실한</span>
                        <span>꾸준한</span>
                        <span>친절한</span>
                        <span>꾸밈없는</span>
                        <span>배려심있는</span>
                    </div>
                </div>

                <div class="profile_right">
                    <div class="education">
                            <h2>EDUCATION</h2>
                            <p><span>2023.02</span>계원예술대학교 화훼디자인과 졸업</p>
                            <p><span>2020.02</span>부흥고등학교 졸업</p>
                    </div>

                    <div class="license">
                        <h2>LICENSE</h2>
                        <p><span>2021.07</span>GTQ 일러스트 1급</p>
                        <p><span>2021.05</span>GTQ 그래픽기술자격 1급</p>
                        <p><span>2020.12</span>ITQ 한글파워포인트 A등급 </p>
                    </div>

                    <div class="skills">
                        <h2>SKILLS</h2>
                            <div class="skills_top">
                                <p><img src="images/skills_07.png" alt="html"></p>
                                <p><img src="images/skills_08.png" alt="css"></p>
                                <p><img src="images/skills_09.png" alt="javascript"></p>
                                <p><img src="images/skills_10.png" alt="vue"></p>
                                <p><img src="images/skills_11.png" alt="react"></p>
                            </div>

                            <div class="skills_bottom">
                                <p><img src="images/skills_01.png" alt="photoshop"></p>
                                <p><img src="images/skills_02.png" alt="illustration"></p>
                                <p><img src="images/skills_03.png" alt="premere pro"></p>
                                <p><img src="images/skills_04.png" alt="figma"></p>
                                <p><img src="images/skills_05.png" alt="sketch up"></p>
                                <p><img src="images/skills_06.png" alt="auto cad"></p>
                            </div>
                        </div>
                </div>
            </div>
        </div>
       


        <div class="container">
            <div class="portfolio_cont">
            <h1>VISIT THE WEBSITE !</h1>
            <div class="site_wrap">
                <div class="site_cont_01">
                    <div><img src="./images/open_site.svg" alt="" class="open_site"></div>
                    <img src="images/maeil.png" alt="매일 바로가기" class="maeil">
                    <div class="dark_filter"></div>
                        <div class="introduce_cont">
                            <h2>1. 매일유업 (team project)</h2>
                            <p>기본 html,css,js를 활용한 웹사이트 리뉴얼</p>
                            <p>담당 파트: 메인페이지(1~4) <br>서브페이지: IR,PR,login</p>
                            <p><button class="site_to_go visit_maeil"><a href="https://sohyun32253.github.io/maeil_project/">사이트 바로가기 <img src="./images/to_go.svg"></a></button></p>
                        </div>
                </div>
                <div class="site_cont_02">
                    <div><img src="./images/open_site.svg" alt="" class="open_site"></div>
                    <img src="images/saltrain.png" alt="솔트레인 바로가기" class="saltrain">
                    <div class="dark_filter"></div>
                    <div class="introduce_cont">
                        <h2>2. 솔트레인 (team project)</h2>
                        <p>vue.js와 vite를 활용한 웹사이트 리뉴얼</p>
                        <p>담당 파트: 메인페이지(반응형 header,footer) <br>서브페이지: about,login</p>
                        <p><button class="site_to_go visit_saltrain"><a href="https://saltrain-f8238.web.app/">사이트 바로가기 <img src="./images/to_go.svg"></a></button></p>
                    </div>
                </div>
                <div class="site_cont_03">
                    <div><img src="./images/open_site.svg" alt="" class="open_site"></div>
                    <img src="images/gongcha.png" alt="공차 바로가기" class="gongcha">
                    <div class="dark_filter"></div>
                    <div class="introduce_cont">
                        <h2>3. 공차 (solo project)</h2>
                        <p>react.js와 firebase를 활용한 웹사이트 리뉴얼</p>
                        <p>구현 페이지: 메인페이지, 음료, 로그인, 마이페이지</p>
                        <p><button class="site_to_go visit_gongcha"><a href="https://sohyun32253.github.io/Gongcha/">사이트 바로가기 <img src="./images/to_go.svg"></a></button></p>
                    </div>
                </div>
            </div>
            </div>
        </div>
        
    

        <div class="container">
            <div class="address_cont">
                <div class="address_box">
                    <div><img src="./images/open_site.svg" alt="" class="open_site"></div>
                    <div class="address_txt">
                        <p class="fz">Thank you for watching !</p>
                        <p>contact me <br>
                            <span>sohyun32253@naver.com <br>
                            010-3354-6096</span>
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script type="text/javascript">

    window.onload = function() {
        setupIntersectionObserver();  // 모든 요소가 렌더링된 후 실행
    };
        // IntersectionObserver 설정 함수
        let goalObserver; // setupIntersectionObserver 함수 외부에 선언
    
        // 페이지 전환 시 IntersectionObserver 재설정
        let port;
        window.addEventListener('pageshow', (event) => {
            if (event.persisted) {
                // The page is restored from BFCache, set up a new connection.
                port = chrome.runtime.connect();
            }
        });

        

        function setupIntersectionObserver() {
    goalObserver = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
            const h1Elements = entry.target.querySelectorAll('.h1_wrap');
            const pElements = entry.target.querySelectorAll('.p_wrap');
            const profile_to_go = document.querySelector('.profile_to_go'); // document.querySelector로 수정
            const portfolio_to_go = document.querySelector('.portfolio_to_go'); // document.querySelector로 수정
            const address_to_go = document.querySelector('.address_to_go'); // document.querySelector로 수정
            const gnbActive01 = document.querySelector('.gnb_01');
            const profile_cont = document.querySelector('.profile_cont');
            const gnbActive02 = document.querySelector('.gnb_02');
            const portfolio_cont = document.querySelector('.portfolio_cont');
            const site_wrap = document.querySelector('.site_wrap');
            const gnbActive03 = document.querySelector('.gnb_03');
            const address_cont = document.querySelector('.address_cont');

            if (entry.isIntersecting) {
                // 모든 GNB 항목에서 active 클래스 제거
                document.querySelectorAll('.gnb li').forEach((gnbItem) => {
                    gnbItem.classList.remove('active');
                });

                // 각 컨테이너에 맞는 GNB 항목 활성화
                if (entry.target.classList.contains('mypage_cont')) {
                    h1Elements.forEach((h1) => h1.classList.add('slide_down'));
                    pElements.forEach((p) => p.classList.add('slide_up'));
                } else if (entry.target.classList.contains('profile_cont')) {
                    // 버튼이 존재하는지 확인 후 active 클래스 추가
                    if (profile_to_go) {
                        document.querySelectorAll('.profile_to_go, .portfolio_to_go, .address_to_go').forEach(btn => {
                            btn.classList.remove('button_active');
                        });
                        profile_to_go.classList.add('button_active');
                    }
                    if (gnbActive01) {
                        gnbActive01.classList.add('active');
                    }
                    if (profile_cont) {
                        profile_cont.classList.add('fade_in');
                    }
                } else if (entry.target.classList.contains('portfolio_cont')) {
                    if (portfolio_to_go) {
                        document.querySelectorAll('.profile_to_go, .portfolio_to_go, .address_to_go').forEach(btn => {
                            btn.classList.remove('button_active');
                        });
                        portfolio_to_go.classList.add('button_active');
                    }
                    if (gnbActive02) {
                        gnbActive02.classList.add('active');
                    }
                    if (site_wrap) {
                        site_wrap.classList.add('fade_down');
                    }
                } else if (entry.target.classList.contains('address_cont')) {
                    if (address_to_go) {
                        document.querySelectorAll('.profile_to_go, .portfolio_to_go, .address_to_go').forEach(btn => {
                            btn.classList.remove('button_active');
                        });
                        address_to_go.classList.add('button_active');
                    }
                    if (gnbActive03) {
                        gnbActive03.classList.add('active');
                    }
                }
            }
        });
    }, { threshold: 0.1 });

    // 목표 요소 관찰
    const elementsToObserve = document.querySelectorAll('.mypage_cont, .profile_cont, .portfolio_cont, .address_cont');
    elementsToObserve.forEach((element) => goalObserver.observe(element));
}

// 페이지가 로드된 후 실행
document.addEventListener("DOMContentLoaded", () => {
    setupButtonScroll(); // 버튼 스크롤 기능 설정
});

// 버튼 스크롤 기능 설정
function setupButtonScroll() {
    const buttons = document.querySelectorAll('.pager button');

    // 버튼 클릭 이벤트 리스너 추가
    for (const button of buttons) {
        button.addEventListener('click', function () {
            const targetElement = document.querySelector(this.dataset.target);

            // 타겟 요소가 존재할 경우 스크롤 수행
            if (targetElement) {
                const scrollPosition = targetElement.offsetTop;

                // scroll을 offsetTop으로 이동시킴
                window.scrollTo({ top: scrollPosition, behavior: 'smooth' });
            }
        });
    }
}
    
    
        // 초기 로드 시와 페이지 전환 시 스크립트 실행
        document.addEventListener("DOMContentLoaded", function () {
            setupIntersectionObserver(); // IntersectionObserver 설정
        });
    
        // 페이지 전환 시 IntersectionObserver 재설정
        window.addEventListener('popstate', function () {
            setupIntersectionObserver();
        });
            
  
        // 스크롤 처리
        const wrap = document.getElementsByClassName('wrap')[0]; // Visible area
        const container = document.getElementsByClassName('container');
        let page = 0; // Initial position
        const lastPage = container.length - 1; // Last page

        let isScrolling = false; // 스크롤 중인지 여부를 추적하는 플래그

        // 데스크탑 사이즈인지 확인하는 함수
        function isDesktop() {
            const width = window.innerWidth;
            return width >= 1025; // 데스크탑 사이즈 (1025px 이상)
        }

        window.addEventListener('wheel', (e) => {
            if (isDesktop()) {
                // 데스크탑에서는 한 영역씩 이동하는 스크롤 기능 적용
                if (isScrolling) return;  // 스크롤 중이면 휠 이벤트 무시
            
                e.preventDefault(); // 기본 스크롤 방지
                if (e.deltaY > 0) {
                    page++;
                } else if (e.deltaY < 0) {
                    page--;
                }
                if (page < 0) {
                    page = 0;
                } else if (page > lastPage) {
                    page = lastPage;
                }

                wrap.style.top = page * -100 + 'vh'; // 페이지 스크롤

                // 스크롤이 시작되면 플래그 설정
                isScrolling = true;

                // 일정 시간 후 스크롤 완료 플래그 해제
                setTimeout(() => {
                    isScrolling = false;
                }, 1000);  // 스크롤 완료 후 1초 뒤에 해제
            } else {
                // 모바일 및 태블릿에서는 기본 스크롤 허용
                wrap.style.top = ''; // 데스크탑용 스크롤 스타일 초기화
            }
        }, { passive: false });

        /*
        document.addEventListener('DOMContentLoaded', function() {
        const button = document.getElementsByClassName('dark_filter');

        // 터치 디바이스 여부 확인
        const isTouchDevice = 'ontouchstart' in document.documentElement;

        if (isTouchDevice) {
            // 터치 디바이스인 경우 클릭 이벤트 리스너 추가
            button.addEventListener('click', function() {
            button.classList.toggle('dark_filter');
            });
        }
        });*/


    </script>
    
</body>
</html>